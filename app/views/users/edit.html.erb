<div class="container">
  <div class="row mb-5">
    <div class="col-md-12 col-sm-12 col-12 border-bottom">
      <h3>
        <strong>
          プロフィール編集
        </strong>
      </h3>
    </div>
  </div>

  <% if @user.errors.any? %>
    <div class="row ml-1">
      <p class="text-danger">
        <%= @user.errors.count %>件の未入力の項目があります。
      </p>
    </div>
    <div class="row ml-1">
      <% @user.errors.full_messages.each do |message| %>
        <p class="text-danger">
          <%= "・" + message %>
        </p>
      <% end %>
    </div>
  <% end %>

  <div class="row mb-4 ml-1">
    <div class="col-lg-12 col-md-12 col-sm-12 col-12">
      <%= attachment_image_tag @user, :profile_image, size: '150x150', fallback: "no_image.jpg"%>
    </div>
  </div>

  <%= form_with model:@user, local:true do |f| %>

    <div class="row mb-2 ml-1">
      <%= f.label :profile_image, "プロフィール画像", class: "border-bottom" %>
    </div>
    <div class="row mb-4 ml-1">
      <%= f.attachment_field :profile_image, placeholder: "プロフィール画像" %>
    </div>

    <div class="row mb-2 ml-1">
      <%= f.label :name, "名前", class: "border-bottom" %>
    </div>
    <div class="row mb-3 ml-1">
      <%= f.text_field :name %>
    </div>

    <div class="row mb-5 ml-1">
      <%= f.submit "変更を保存", class: "btn btn-outline-success mt-5" %>
    </div>

  <% end %>

</div>